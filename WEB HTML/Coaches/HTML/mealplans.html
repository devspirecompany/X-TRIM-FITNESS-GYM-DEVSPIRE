<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Plans - X-TRIM FIT GYM</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../CSS/mealplans.css">
    <link rel="stylesheet" href="../CSS/booking-panel.css">
    <script src="../JS/mealplans.js" defer></script>
    <script src="../JS/booking-panel.js" defer></script>
    <script>
        // Shared functions from Dashboard
        function toggleChatPanel() {
            showToast('Chat panel coming soon...', 'info');
        }
        
        function toggleNotificationPanel() {
            showToast('Notification panel coming soon...', 'info');
        }
    </script>
</head>
<body>
    <!-- Top Navbar -->
    <nav class="top-navbar">
        <div class="logo">
            <img src="../../Client/imgs/logo.png" alt="X-TRIM FIT GYM" class="logo-img">
        </div>
        <div class="nav-right">
            <div class="chat-icon" onclick="window.location.href='../HTML/Messages.html'">
                <i class="fas fa-comments"></i>
            </div>
            <div class="booking-icon" onclick="toggleBookingPanel()">
                <i class="fas fa-calendar-check"></i>
                <span class="booking-badge" id="bookingBadge">2</span>
            </div>
            <div class="notification-icon" onclick="toggleNotificationPanel()">
                <i class="fas fa-bell"></i>
                <span class="notification-badge">3</span>
            </div>
            <div class="user-profile" onclick="event.stopPropagation(); toggleProfileDropdown();" id="userProfileDropdown">
                <div class="user-avatar">MR</div>
                <div class="user-info">
                    <h4>Mike Rodriguez</h4>
                    <p>Strength Coach</p>
                </div>
                <i class="fas fa-chevron-down"></i>
                <div class="dropdown-menu">
                    <a href="../HTML/settings.html" class="dropdown-item">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item" onclick="event.preventDefault(); openLogoutModal();">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <ul class="sidebar-menu">
            <li><a href="../HTML/dashboard.html"><i class="fas fa-home"></i><span>Dashboard</span></a></li>
            <li><a href="../HTML/MyClients.html"><i class="fas fa-users"></i><span>My Clients</span></a></li>
            <li><a href="../HTML/workouts.html"><i class="fas fa-dumbbell"></i><span>Workout Plans</span></a></li>
            <li><a href="../HTML/mealplans.html" class="active"><i class="fas fa-utensils"></i><span>Meal Plans</span></a></li>
            <li><a href="../HTML/schedules.html"><i class="fas fa-calendar-alt"></i><span>My Schedule</span></a></li>
            <li><a href="../HTML/progress.html"><i class="fas fa-chart-line"></i><span>Progress Review</span></a></li>
        </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <div class="page-header">
            <div>
                <h1><i class="fas fa-utensils"></i> Meal Plans</h1>
                <p>Create, manage, and assign meal plans to your clients</p>
            </div>
            <div class="header-actions">
                <button class="btn-secondary" onclick="openTemplateLibrary()" title="View meal plan templates">
                    <i class="fas fa-book"></i> Templates
                </button>
                <button class="btn-primary" onclick="openCreateMealPlanModal()" title="Create new meal plan">
                    <i class="fas fa-plus"></i> Create Meal Plan
                </button>
            </div>
        </div>

        <!-- Search and Filter Bar -->
        <div class="search-filter-bar">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Search meal plans by name, client, or meal..." onkeyup="filterMealPlans()">
            </div>
            <div class="filter-group">
                <label for="clientFilter" class="filter-label">
                    <i class="fas fa-filter"></i> Client
                </label>
                <select id="clientFilter" onchange="filterMealPlans()">
                    <option value="all">All Clients</option>
                    <option value="ashley-quicho">Ashley Quicho</option>
                    <option value="john-dela-cruz">John Dela Cruz</option>
                    <option value="maria-santos">Maria Santos</option>
                    <option value="robert-lim">Robert Lim</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="goalFilter" class="filter-label">
                    <i class="fas fa-filter"></i> Goal
                </label>
                <select id="goalFilter" onchange="filterMealPlans()">
                    <option value="all">All Goals</option>
                    <option value="weight-loss">Weight Loss</option>
                    <option value="muscle-gain">Muscle Gain</option>
                    <option value="maintenance">Maintenance</option>
                    <option value="cutting">Cutting</option>
                    <option value="bulking">Bulking</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="calorieFilter" class="filter-label">
                    <i class="fas fa-filter"></i> Calories
                </label>
                <select id="calorieFilter" onchange="filterMealPlans()">
                    <option value="all">All Ranges</option>
                    <option value="low">Low (1200-1500)</option>
                    <option value="medium">Medium (1500-2000)</option>
                    <option value="high">High (2000-2500)</option>
                    <option value="very-high">Very High (2500+)</option>
                </select>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon" style="background: rgba(20, 184, 166, 0.1);">
                    <i class="fas fa-utensils" style="color: var(--primary-teal);"></i>
                </div>
                <div class="stat-content">
                    <h3>18</h3>
                    <p>Active Meal Plans</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: rgba(59, 130, 246, 0.1);">
                    <i class="fas fa-users" style="color: var(--primary-blue);"></i>
                </div>
                <div class="stat-content">
                    <h3>10</h3>
                    <p>Clients Assigned</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: rgba(6, 182, 212, 0.1);">
                    <i class="fas fa-fire" style="color: var(--primary-cyan);"></i>
                </div>
                <div class="stat-content">
                    <h3>2,340</h3>
                    <p>Avg Daily Calories</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: rgba(20, 184, 166, 0.1);">
                    <i class="fas fa-clipboard-check" style="color: var(--primary-teal);"></i>
                </div>
                <div class="stat-content">
                    <h3>85%</h3>
                    <p>Compliance Rate</p>
                </div>
            </div>
        </div>

        <!-- Meal Plans Grid -->
        <div class="mealplans-grid" id="mealplansGrid">
            <!-- Meal Plan Card 1 -->
            <div class="mealplan-card" data-client="ashley-quicho" data-goal="weight-loss" data-calories="medium">
                <div class="mealplan-card-header">
                    <div class="mealplan-status-badge active">
                        <i class="fas fa-circle"></i> Active
                    </div>
                    <div class="mealplan-actions">
                        <button class="btn-icon-small" onclick="editMealPlan('mealplan-1')" title="Edit meal plan">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-icon-small" onclick="duplicateMealPlan('mealplan-1')" title="Duplicate meal plan">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button class="btn-icon-small" onclick="deleteMealPlan('mealplan-1')" title="Delete meal plan">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="mealplan-card-body">
                    <h3>Weight Loss Meal Plan</h3>
                    <div class="mealplan-meta-info">
                        <span class="mealplan-client">
                            <i class="fas fa-user"></i> Ashley Quicho
                        </span>
                        <span class="mealplan-goal weight-loss">
                            <i class="fas fa-bullseye"></i> Weight Loss
                        </span>
                        <span class="mealplan-calories">
                            <i class="fas fa-fire"></i> 1,800 cal/day
                        </span>
                    </div>
                    <div class="mealplan-macros-summary">
                        <div class="macro-summary-item">
                            <span class="macro-label">Protein</span>
                            <span class="macro-value">140g</span>
                        </div>
                        <div class="macro-summary-item">
                            <span class="macro-label">Carbs</span>
                            <span class="macro-value">180g</span>
                        </div>
                        <div class="macro-summary-item">
                            <span class="macro-label">Fats</span>
                            <span class="macro-value">60g</span>
                        </div>
                    </div>
                    <div class="mealplan-meals-preview">
                        <p><strong>4 Meals:</strong> Breakfast, Lunch, Dinner, Snack</p>
                    </div>
                    <div class="mealplan-details">
                        <div class="detail-item">
                            <i class="fas fa-calendar"></i>
                            <span>Week 2 of 8</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-chart-line"></i>
                            <span>85% Compliance</span>
                        </div>
                    </div>
                </div>
                <div class="mealplan-card-footer">
                    <button class="btn-view" onclick="viewMealPlanDetails('mealplan-1')">
                        <i class="fas fa-eye"></i> View Details
                    </button>
                    <button class="btn-assign" onclick="assignMealPlanToClient('mealplan-1')">
                        <i class="fas fa-user-plus"></i> Assign
                    </button>
                </div>
            </div>

            <!-- Meal Plan Card 2 -->
            <div class="mealplan-card" data-client="john-dela-cruz" data-goal="muscle-gain" data-calories="high">
                <div class="mealplan-card-header">
                    <div class="mealplan-status-badge active">
                        <i class="fas fa-circle"></i> Active
                    </div>
                    <div class="mealplan-actions">
                        <button class="btn-icon-small" onclick="editMealPlan('mealplan-2')" title="Edit meal plan">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-icon-small" onclick="duplicateMealPlan('mealplan-2')" title="Duplicate meal plan">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button class="btn-icon-small" onclick="deleteMealPlan('mealplan-2')" title="Delete meal plan">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="mealplan-card-body">
                    <h3>Muscle Gain Nutrition Plan</h3>
                    <div class="mealplan-meta-info">
                        <span class="mealplan-client">
                            <i class="fas fa-user"></i> John Dela Cruz
                        </span>
                        <span class="mealplan-goal muscle-gain">
                            <i class="fas fa-dumbbell"></i> Muscle Gain
                        </span>
                        <span class="mealplan-calories">
                            <i class="fas fa-fire"></i> 2,400 cal/day
                        </span>
                    </div>
                    <div class="mealplan-macros-summary">
                        <div class="macro-summary-item">
                            <span class="macro-label">Protein</span>
                            <span class="macro-value">180g</span>
                        </div>
                        <div class="macro-summary-item">
                            <span class="macro-label">Carbs</span>
                            <span class="macro-value">280g</span>
                        </div>
                        <div class="macro-summary-item">
                            <span class="macro-label">Fats</span>
                            <span class="macro-value">75g</span>
                        </div>
                    </div>
                    <div class="mealplan-meals-preview">
                        <p><strong>5 Meals:</strong> Breakfast, Pre-Workout, Lunch, Post-Workout, Dinner</p>
                    </div>
                    <div class="mealplan-details">
                        <div class="detail-item">
                            <i class="fas fa-calendar"></i>
                            <span>Week 1 of 12</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-chart-line"></i>
                            <span>92% Compliance</span>
                        </div>
                    </div>
                </div>
                <div class="mealplan-card-footer">
                    <button class="btn-view" onclick="viewMealPlanDetails('mealplan-2')">
                        <i class="fas fa-eye"></i> View Details
                    </button>
                    <button class="btn-assign" onclick="assignMealPlanToClient('mealplan-2')">
                        <i class="fas fa-user-plus"></i> Assign
                    </button>
                </div>
            </div>

            <!-- Meal Plan Card 3 -->
            <div class="mealplan-card" data-client="maria-santos" data-goal="cutting" data-calories="low">
                <div class="mealplan-card-header">
                    <div class="mealplan-status-badge active">
                        <i class="fas fa-circle"></i> Active
                    </div>
                    <div class="mealplan-actions">
                        <button class="btn-icon-small" onclick="editMealPlan('mealplan-3')" title="Edit meal plan">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-icon-small" onclick="duplicateMealPlan('mealplan-3')" title="Duplicate meal plan">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button class="btn-icon-small" onclick="deleteMealPlan('mealplan-3')" title="Delete meal plan">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="mealplan-card-body">
                    <h3>Cutting Phase Meal Plan</h3>
                    <div class="mealplan-meta-info">
                        <span class="mealplan-client">
                            <i class="fas fa-user"></i> Maria Santos
                        </span>
                        <span class="mealplan-goal cutting">
                            <i class="fas fa-scissors"></i> Cutting
                        </span>
                        <span class="mealplan-calories">
                            <i class="fas fa-fire"></i> 1,500 cal/day
                        </span>
                    </div>
                    <div class="mealplan-macros-summary">
                        <div class="macro-summary-item">
                            <span class="macro-label">Protein</span>
                            <span class="macro-value">150g</span>
                        </div>
                        <div class="macro-summary-item">
                            <span class="macro-label">Carbs</span>
                            <span class="macro-value">120g</span>
                        </div>
                        <div class="macro-summary-item">
                            <span class="macro-label">Fats</span>
                            <span class="macro-value">50g</span>
                        </div>
                    </div>
                    <div class="mealplan-meals-preview">
                        <p><strong>4 Meals:</strong> Breakfast, Lunch, Dinner, Snack</p>
                    </div>
                    <div class="mealplan-details">
                        <div class="detail-item">
                            <i class="fas fa-calendar"></i>
                            <span>Week 3 of 6</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-chart-line"></i>
                            <span>78% Compliance</span>
                        </div>
                    </div>
                </div>
                <div class="mealplan-card-footer">
                    <button class="btn-view" onclick="viewMealPlanDetails('mealplan-3')">
                        <i class="fas fa-eye"></i> View Details
                    </button>
                    <button class="btn-assign" onclick="assignMealPlanToClient('mealplan-3')">
                        <i class="fas fa-user-plus"></i> Assign
                    </button>
                </div>
            </div>

            <!-- Meal Plan Card 4 -->
            <div class="mealplan-card" data-client="robert-lim" data-goal="maintenance" data-calories="medium">
                <div class="mealplan-card-header">
                    <div class="mealplan-status-badge inactive">
                        <i class="fas fa-circle"></i> Inactive
                    </div>
                    <div class="mealplan-actions">
                        <button class="btn-icon-small" onclick="editMealPlan('mealplan-4')" title="Edit meal plan">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn-icon-small" onclick="duplicateMealPlan('mealplan-4')" title="Duplicate meal plan">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button class="btn-icon-small" onclick="deleteMealPlan('mealplan-4')" title="Delete meal plan">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="mealplan-card-body">
                    <h3>Maintenance Nutrition Plan</h3>
                    <div class="mealplan-meta-info">
                        <span class="mealplan-client">
                            <i class="fas fa-user"></i> Robert Lim
                        </span>
                        <span class="mealplan-goal maintenance">
                            <i class="fas fa-balance-scale"></i> Maintenance
                        </span>
                        <span class="mealplan-calories">
                            <i class="fas fa-fire"></i> 2,000 cal/day
                        </span>
                    </div>
                    <div class="mealplan-macros-summary">
                        <div class="macro-summary-item">
                            <span class="macro-label">Protein</span>
                            <span class="macro-value">160g</span>
                        </div>
                        <div class="macro-summary-item">
                            <span class="macro-label">Carbs</span>
                            <span class="macro-value">220g</span>
                        </div>
                        <div class="macro-summary-item">
                            <span class="macro-label">Fats</span>
                            <span class="macro-value">65g</span>
                        </div>
                    </div>
                    <div class="mealplan-meals-preview">
                        <p><strong>4 Meals:</strong> Breakfast, Lunch, Dinner, Snack</p>
                    </div>
                    <div class="mealplan-details">
                        <div class="detail-item">
                            <i class="fas fa-calendar"></i>
                            <span>Completed</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-chart-line"></i>
                            <span>88% Compliance</span>
                        </div>
                    </div>
                </div>
                <div class="mealplan-card-footer">
                    <button class="btn-view" onclick="viewMealPlanDetails('mealplan-4')">
                        <i class="fas fa-eye"></i> View Details
                    </button>
                    <button class="btn-assign" onclick="assignMealPlanToClient('mealplan-4')">
                        <i class="fas fa-user-plus"></i> Assign
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Create/Edit Meal Plan Modal -->
    <div class="modal-overlay" id="mealPlanModal">
        <div class="modal modal-large">
            <div class="modal-header">
                <h3><i class="fas fa-utensils"></i> <span id="modalTitle">Create Meal Plan</span></h3>
                <button class="modal-close" onclick="closeMealPlanModal()" title="Close" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="mealPlanForm" onsubmit="saveMealPlan(event)">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="mealPlanName">
                                <i class="fas fa-heading"></i> Meal Plan Name <span class="required">*</span>
                            </label>
                            <input type="text" id="mealPlanName" name="mealPlanName" placeholder="e.g., Weight Loss Meal Plan" required>
                        </div>
                        <div class="form-group">
                            <label for="mealPlanGoal">
                                <i class="fas fa-bullseye"></i> Goal <span class="required">*</span>
                            </label>
                            <select id="mealPlanGoal" name="mealPlanGoal" required>
                                <option value="">Select goal</option>
                                <option value="weight-loss">Weight Loss</option>
                                <option value="muscle-gain">Muscle Gain</option>
                                <option value="maintenance">Maintenance</option>
                                <option value="cutting">Cutting</option>
                                <option value="bulking">Bulking</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="dailyCalories">
                                <i class="fas fa-fire"></i> Daily Calories <span class="required">*</span>
                            </label>
                            <input type="number" id="dailyCalories" name="dailyCalories" placeholder="1800" min="1000" max="4000" required>
                        </div>
                        <div class="form-group">
                            <label for="proteinTarget">
                                <i class="fas fa-drumstick-bite"></i> Protein Target (g) <span class="required">*</span>
                            </label>
                            <input type="number" id="proteinTarget" name="proteinTarget" placeholder="140" min="50" max="300" required>
                        </div>
                        <div class="form-group">
                            <label for="carbsTarget">
                                <i class="fas fa-bread-slice"></i> Carbs Target (g) <span class="required">*</span>
                            </label>
                            <input type="number" id="carbsTarget" name="carbsTarget" placeholder="180" min="50" max="500" required>
                        </div>
                        <div class="form-group">
                            <label for="fatsTarget">
                                <i class="fas fa-seedling"></i> Fats Target (g) <span class="required">*</span>
                            </label>
                            <input type="number" id="fatsTarget" name="fatsTarget" placeholder="60" min="20" max="150" required>
                        </div>
                        <div class="form-group full-width">
                            <label for="mealPlanDescription">
                                <i class="fas fa-align-left"></i> Description
                            </label>
                            <textarea id="mealPlanDescription" name="mealPlanDescription" rows="3" placeholder="Brief description of the meal plan..."></textarea>
                        </div>
                    </div>

                    <div class="meals-section">
                        <div class="section-header">
                            <h4><i class="fas fa-list"></i> Meals</h4>
                            <button type="button" class="btn-secondary" onclick="addMealRow()">
                                <i class="fas fa-plus"></i> Add Meal
                            </button>
                        </div>
                        <div class="meals-table-wrapper">
                            <table class="meals-table">
                                <thead>
                                    <tr>
                                        <th>Meal Type</th>
                                        <th>Time</th>
                                        <th>Calories</th>
                                        <th>Protein</th>
                                        <th>Carbs</th>
                                        <th>Fats</th>
                                        <th>Description</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="mealsTableBody">
                                    <tr>
                                        <td>
                                            <select required>
                                                <option value="">Select</option>
                                                <option value="breakfast">Breakfast</option>
                                                <option value="lunch">Lunch</option>
                                                <option value="dinner">Dinner</option>
                                                <option value="snack">Snack</option>
                                                <option value="pre-workout">Pre-Workout</option>
                                                <option value="post-workout">Post-Workout</option>
                                            </select>
                                        </td>
                                        <td><input type="time" required></td>
                                        <td><input type="number" placeholder="500" min="0" required></td>
                                        <td><input type="number" placeholder="35" min="0" required></td>
                                        <td><input type="number" placeholder="62" min="0" required></td>
                                        <td><input type="number" placeholder="15" min="0" required></td>
                                        <td><input type="text" placeholder="Optional"></td>
                                        <td>
                                            <button type="button" class="btn-icon-small danger" onclick="removeMealRow(this)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" onclick="closeMealPlanModal()">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-save"></i> Save Meal Plan
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Assign Meal Plan Modal -->
    <div class="modal-overlay" id="assignModal">
        <div class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-user-plus"></i> Assign Meal Plan to Client</h3>
                <button class="modal-close" onclick="closeAssignModal()" title="Close" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="assignForm" onsubmit="confirmAssignMealPlan(event)">
                    <div class="form-group">
                        <label for="assignClient">
                            <i class="fas fa-user"></i> Select Client <span class="required">*</span>
                        </label>
                        <select id="assignClient" name="assignClient" required>
                            <option value="">Select a client</option>
                            <option value="ashley-quicho">Ashley Quicho</option>
                            <option value="john-dela-cruz">John Dela Cruz</option>
                            <option value="maria-santos">Maria Santos</option>
                            <option value="robert-lim">Robert Lim</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="assignStartDate">
                            <i class="fas fa-calendar"></i> Start Date <span class="required">*</span>
                        </label>
                        <input type="date" id="assignStartDate" name="assignStartDate" required>
                    </div>
                    <div class="form-group">
                        <label for="assignDuration">
                            <i class="fas fa-calendar-alt"></i> Program Duration (weeks) <span class="required">*</span>
                        </label>
                        <input type="number" id="assignDuration" name="assignDuration" placeholder="8" min="1" max="52" required>
                    </div>
                    <div class="form-group">
                        <label for="assignNotes">
                            <i class="fas fa-comment"></i> Notes (optional)
                        </label>
                        <textarea id="assignNotes" name="assignNotes" rows="3" placeholder="Any special instructions or dietary restrictions..."></textarea>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" onclick="closeAssignModal()">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-check"></i> Assign Meal Plan
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- View Meal Plan Details Modal -->
    <div class="modal-overlay" id="viewModal">
        <div class="modal modal-large">
            <div class="modal-header">
                <h3><i class="fas fa-eye"></i> Meal Plan Details</h3>
                <button class="modal-close" onclick="closeViewModal()" title="Close" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="viewModalContent">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal modal-center">
            <div class="modal-body">
                <div class="modal-logout-icon">
                    <i class="fas fa-trash"></i>
                </div>
                <h3 class="modal-logout-title">Delete Meal Plan?</h3>
                <p class="modal-logout-text">
                    Are you sure you want to delete this meal plan? This action cannot be undone.
                </p>
                <div class="modal-logout-actions">
                    <button type="button" class="btn-secondary" onclick="closeDeleteModal()">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                    <button type="button" class="btn-primary" onclick="confirmDeleteMealPlan()">
                        <i class="fas fa-trash"></i> Yes, Delete
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Logout Modal -->
    <div class="modal-overlay" id="logoutModal">
        <div class="modal modal-center">
            <div class="modal-body">
                <div class="modal-logout-icon">
                    <i class="fas fa-sign-out-alt"></i>
                </div>
                <h3 class="modal-logout-title">Are you sure you want to logout?</h3>
                <p class="modal-logout-text">
                    You'll need to log in again to access your coach account.
                </p>
                <div class="modal-logout-actions">
                    <button type="button" class="btn-secondary" onclick="closeLogoutModal()">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                    <button type="button" class="btn-primary" onclick="confirmLogout()">
                        <i class="fas fa-sign-out-alt"></i> Yes, Logout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" style="
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        z-index: 3000;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    "></div>

    <!-- Booking Confirmation Panel -->
    <div class="booking-panel" id="bookingPanel">
        <div class="booking-panel-header">
            <h3><i class="fas fa-calendar-check"></i> Booking Requests</h3>
            <button class="modal-close" onclick="closeBookingPanel()" title="Close" aria-label="Close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="booking-panel-body" id="bookingPanelBody">
            <!-- Dynamically populated -->
        </div>
    </div>
</body>
</html>

