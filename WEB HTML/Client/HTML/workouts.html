<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X-TRIM FIT GYM - My Workouts</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../CSS/workouts.css">
    <script src="../JS/workouts.js" defer></script>
</head>
<body>
    <nav class="top-navbar">
        <div class="logo">
            <img src="../imgs/logo.png" alt="X-TRIM FIT GYM" class="logo-img">
        </div>
        <div class="nav-right">
            <div class="chat-icon" onclick="toggleChatPanel()">
                <i class="fas fa-comments"></i>
            </div>
            <div class="notification-icon" onclick="toggleNotificationPanel()">
                <i class="fas fa-bell"></i>
                <span class="notification-badge">3</span>
            </div>
            <div class="user-profile" onclick="event.stopPropagation(); toggleProfileDropdown()">
                <div class="user-avatar">AQ</div>
                <div class="user-info">
                    <h4>Ashley Quicho</h4>
                    <p>PROMO Student Member</p>
                </div>
                <i class="fas fa-chevron-down"></i>
                <div class="dropdown-menu">
                    <a href="ClientSettings.html" class="dropdown-item">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Toast Notification Container -->
    <div id="toastContainer" style="
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        z-index: 3000;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    "></div>

    <aside class="sidebar" id="sidebar">
        <ul class="sidebar-menu">
            <li><a href="../HTML/dashboard.html"><i class="fas fa-home"></i><span>Dashboard</span></a></li>
            <li><a href="../HTML/workouts.html" class="active"><i class="fas fa-dumbbell"></i><span>Workout Plans</span></a></li>
            <li><a href="../HTML/schedule.html"><i class="fas fa-calendar-alt"></i><span>My Schedule</span></a></li>
            <li><a href="../HTML/mealplan.html"><i class="fas fa-utensils"></i><span>Meal Plans</span></a></li>
            <li><a href="../HTML/progress.html"><i class="fas fa-chart-line"></i><span>Progress</span></a></li>
            <li><a href="../HTML/achievements.html"><i class="fas fa-trophy"></i><span>Achievements</span></a></li>
            <li><a href="../HTML/coaches.html"><i class="fas fa-user-friends"></i><span>Coaches</span></a></li>
            <li><a href="../HTML/membership.html"><i class="fas fa-credit-card"></i><span>Membership</span></a></li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="page-header">
            <div>
                <h1><i class="fas fa-dumbbell"></i> My Workout Plans</h1>
                <p>Track your progress and follow your personalized training programs</p>
            </div>
        </div>

        <!-- Filter Section -->
        <div class="filter-section">
            <div class="filter-group">
                <label><i class="fas fa-filter"></i> Filter by:</label>
                <select id="workoutTypeFilter" onchange="applyFilters()" title="Filter by Workout Type" aria-label="Filter by Workout Type">
                    <option value="all">All Types</option>
                    <option value="strength">Strength Training</option>
                    <option value="cardio">Cardio</option>
                    <option value="hypertrophy">Muscle Building</option>
                    <option value="endurance">Endurance</option>
                    <option value="flexibility">Flexibility</option>
                </select>
            </div>
            <div class="filter-group">
                <select id="difficultyFilter" onchange="applyFilters()" title="Filter by Difficulty" aria-label="Filter by Difficulty">
                    <option value="all">All Levels</option>
                    <option value="beginner">Beginner</option>
                    <option value="intermediate">Intermediate</option>
                    <option value="advanced">Advanced</option>
                </select>
            </div>
            <div class="filter-group">
                <select id="statusFilter" onchange="applyFilters()" title="Filter by Status" aria-label="Filter by Status">
                    <option value="all">All Status</option>
                    <option value="active">Active</option>
                    <option value="upcoming">Upcoming</option>
                    <option value="completed">Completed</option>
                </select>
            </div>
            <button class="btn-reset" onclick="resetFilters()">
                <i class="fas fa-redo"></i> Reset
            </button>
        </div>

        <!-- Workout Plans List -->
        <div class="workouts-container" id="workoutsContainer">
            <!-- Active Plan - Today -->
            <div class="workout-card" data-type="strength" data-difficulty="intermediate" data-status="active" data-date="2024-11-04" data-time="14:00">
                <div class="workout-card-header">
                    <div class="workout-info">
                        <span class="workout-status active"><i class="fas fa-circle"></i> Active Now</span>
                        <h3>Upper Body Strength</h3>
                        <div class="workout-meta">
                            <span><i class="far fa-calendar"></i> Today, 2:00 PM</span>
                            <span><i class="fas fa-clock"></i> 60 min</span>
                            <span class="difficulty intermediate"><i class="fas fa-signal"></i> Intermediate</span>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="openWorkoutDetails('workout1', true)">
                        <i class="fas fa-play"></i> Start
                    </button>
                </div>
                <div class="workout-exercises">
                    <p><strong>5 Exercises:</strong> Bench Press, Rows, Shoulder Press, Tricep Dips, Bicep Curls</p>
                </div>
                <div class="workout-progress">
                    <div class="progress-info">
                        <span>Week 2 of 12</span>
                        <span>17%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" style="width: 17%;"></div>
                    </div>
                </div>
            </div>

            <!-- Upcoming - Tomorrow -->
            <div class="workout-card" data-type="cardio" data-difficulty="intermediate" data-status="upcoming" data-date="2024-11-05" data-time="16:00">
                <div class="workout-card-header">
                    <div class="workout-info">
                        <span class="workout-status upcoming"><i class="fas fa-clock"></i> Upcoming</span>
                        <h3>HIIT Cardio Session</h3>
                        <div class="workout-meta">
                            <span><i class="far fa-calendar"></i> Tomorrow, 4:00 PM</span>
                            <span><i class="fas fa-clock"></i> 45 min</span>
                            <span class="difficulty intermediate"><i class="fas fa-signal"></i> Intermediate</span>
                        </div>
                    </div>
                    <button class="btn-secondary" onclick="openWorkoutDetails('workout2', false)">
                        <i class="fas fa-eye"></i> View
                    </button>
                </div>
                <div class="workout-exercises">
                    <p><strong>6 Exercises:</strong> Burpees, Mountain Climbers, Jump Squats, High Knees, Sprint Intervals, Cool Down</p>
                </div>
            </div>

            <!-- Upcoming - Wednesday -->
            <div class="workout-card" data-type="hypertrophy" data-difficulty="intermediate" data-status="upcoming" data-date="2024-11-06" data-time="14:00">
                <div class="workout-card-header">
                    <div class="workout-info">
                        <span class="workout-status upcoming"><i class="fas fa-clock"></i> Upcoming</span>
                        <h3>Lower Body Power</h3>
                        <div class="workout-meta">
                            <span><i class="far fa-calendar"></i> Wed, Nov 6, 2:00 PM</span>
                            <span><i class="fas fa-clock"></i> 75 min</span>
                            <span class="difficulty intermediate"><i class="fas fa-signal"></i> Intermediate</span>
                        </div>
                    </div>
                    <button class="btn-secondary" onclick="openWorkoutDetails('workout3', false)">
                        <i class="fas fa-eye"></i> View
                    </button>
                </div>
                <div class="workout-exercises">
                    <p><strong>5 Exercises:</strong> Squats, Deadlifts, Leg Press, Lunges, Calf Raises</p>
                </div>
                <div class="workout-progress">
                    <div class="progress-info">
                        <span>Week 2 of 12</span>
                        <span>17%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" style="width: 17%;"></div>
                    </div>
                </div>
            </div>

            <!-- Upcoming - Friday -->
            <div class="workout-card" data-type="strength" data-difficulty="intermediate" data-status="upcoming" data-date="2024-11-08" data-time="15:30">
                <div class="workout-card-header">
                    <div class="workout-info">
                        <span class="workout-status upcoming"><i class="fas fa-clock"></i> Upcoming</span>
                        <h3>Full Body Workout</h3>
                        <div class="workout-meta">
                            <span><i class="far fa-calendar"></i> Fri, Nov 8, 3:30 PM</span>
                            <span><i class="fas fa-clock"></i> 60 min</span>
                            <span class="difficulty intermediate"><i class="fas fa-signal"></i> Intermediate</span>
                        </div>
                    </div>
                    <button class="btn-secondary" onclick="openWorkoutDetails('workout4', false)">
                        <i class="fas fa-eye"></i> View
                    </button>
                </div>
                <div class="workout-exercises">
                    <p><strong>6 Exercises:</strong> Push-ups, Pull-ups, Squats, Planks, Russian Twists, Burpees</p>
                </div>
                <div class="workout-progress">
                    <div class="progress-info">
                        <span>Week 2 of 12</span>
                        <span>17%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress" style="width: 17%;"></div>
                    </div>
                </div>
            </div>

            <!-- Completed - Yesterday -->
            <div class="workout-card" data-type="flexibility" data-difficulty="beginner" data-status="completed" data-date="2024-11-03" data-time="10:00">
                <div class="workout-card-header">
                    <div class="workout-info">
                        <span class="workout-status completed"><i class="fas fa-check-circle"></i> Completed</span>
                        <h3>Yoga & Stretching</h3>
                        <div class="workout-meta">
                            <span><i class="far fa-calendar"></i> Yesterday, 10:00 AM</span>
                            <span><i class="fas fa-clock"></i> 45 min</span>
                            <span class="difficulty beginner"><i class="fas fa-signal"></i> Beginner</span>
                        </div>
                    </div>
                    <button class="btn-secondary" onclick="openWorkoutDetails('workout5', false)">
                        <i class="fas fa-history"></i> Review
                    </button>
                </div>
                <div class="workout-exercises">
                    <p><strong>8 Exercises:</strong> Sun Salutation, Downward Dog, Warrior Pose, Tree Pose, Child's Pose, Stretching</p>
                </div>
                <div class="completion-badge">
                    <i class="fas fa-trophy"></i> Great job! You burned 280 calories
                </div>
            </div>

            <!-- Completed - Last Week -->
            <div class="workout-card" data-type="hypertrophy" data-difficulty="intermediate" data-status="completed" data-date="2024-11-01" data-time="14:00">
                <div class="workout-card-header">
                    <div class="workout-info">
                        <span class="workout-status completed"><i class="fas fa-check-circle"></i> Completed</span>
                        <h3>Chest & Back Focus</h3>
                        <div class="workout-meta">
                            <span><i class="far fa-calendar"></i> Fri, Nov 1, 2:00 PM</span>
                            <span><i class="fas fa-clock"></i> 70 min</span>
                            <span class="difficulty intermediate"><i class="fas fa-signal"></i> Intermediate</span>
                        </div>
                    </div>
                    <button class="btn-secondary" onclick="openWorkoutDetails('workout6', false)">
                        <i class="fas fa-history"></i> Review
                    </button>
                </div>
                <div class="workout-exercises">
                    <p><strong>7 Exercises:</strong> Flat Bench Press, Incline Press, Cable Flyes, Pull-ups, Rows, Face Pulls, Shrugs</p>
                </div>
                <div class="completion-badge">
                    <i class="fas fa-trophy"></i> Excellent! You burned 420 calories
                </div>
            </div>
        </div>

        <!-- Request Change Button -->
        <div style="margin-top: 2rem; text-align: center;">
            <button class="btn-secondary" onclick="openRequestChangeModal()" style="padding: 1rem 2rem;">
                <i class="fas fa-edit"></i> Request Plan Change
            </button>
        </div>
    </main>

    <!-- Workout Details Modal -->
    <div class="modal-overlay" id="workoutDetailsModal">
        <div class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-dumbbell"></i> Workout Details</h3>
                <button class="modal-close" onclick="closeWorkoutDetailsModal()" title="Close" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="workoutDetailsContent">
                <!-- Content will be dynamically loaded -->
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeWorkoutDetailsModal()">
                    <i class="fas fa-times"></i> Close
                </button>
            </div>
        </div>
    </div>

    <!-- Request Plan Change Modal -->
    <div class="modal-overlay" id="requestChangeModal">
        <div class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-edit"></i> Request Plan Change</h3>
                <button class="modal-close" onclick="closeRequestChangeModal()" title="Close" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="requestChangeForm" onsubmit="submitPlanChangeRequest(event)">
                    <div class="form-group">
                        <label for="changeReason">Reason for Change</label>
                        <select id="changeReason" required>
                            <option value="">Select a reason...</option>
                            <option value="too-difficult">Program is too difficult</option>
                            <option value="too-easy">Program is too easy</option>
                            <option value="injury">Injury or physical limitation</option>
                            <option value="time-constraint">Time constraints</option>
                            <option value="equipment">Equipment not available</option>
                            <option value="goals-changed">My goals have changed</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="changeDetails">Details</label>
                        <textarea id="changeDetails" placeholder="Please provide more details about your request..." required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="preferredFocus">Preferred Focus (Optional)</label>
                        <select id="preferredFocus">
                            <option value="">Select preferred focus...</option>
                            <option value="strength">Strength Training</option>
                            <option value="hypertrophy">Muscle Building</option>
                            <option value="endurance">Endurance</option>
                            <option value="weight-loss">Weight Loss</option>
                            <option value="athletic">Athletic Performance</option>
                            <option value="general">General Fitness</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeRequestChangeModal()">
                    <i class="fas fa-times"></i> Cancel
                </button>
                <button class="btn-primary" onclick="submitPlanChangeRequest(event)">
                    <i class="fas fa-paper-plane"></i> Submit Request
                </button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal-overlay" id="successModal">
        <div class="modal" style="max-width: 400px; text-align: center;">
            <div class="modal-body" style="padding: 2.5rem 2rem;">
                <div style="margin-bottom: 1.5rem;">
                    <div class="success-icon" style="width: 80px; height: 80px; background: rgba(34, 197, 94, 0.1); border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 1.5rem;">
                        <i class="fas fa-check-circle" style="font-size: 3rem; color: #22c55e;"></i>
                    </div>
                    <h3 style="margin-bottom: 0.75rem; color: var(--text-primary);">Request Submitted!</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 1.5rem; line-height: 1.5;">Your plan change request has been sent to your coach. We'll review it and get back to you soon.</p>
                </div>
                <button class="btn-primary" onclick="closeSuccessModal()" style="margin: 0 auto; padding: 0.75rem 2rem;">
                    <i class="fas fa-check"></i> Got it!
                </button>
            </div>
        </div>
    </div>

    <!-- Notification Panel -->
    <div class="notification-panel" id="notificationPanel">
        <div class="notification-panel-header">
            <h3><i class="fas fa-bell"></i> Notifications</h3>
            <button class="modal-close" onclick="closeNotificationPanel()" title="Close" aria-label="Close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="notification-panel-body">
            <div class="notification-list-item unread">
                <div class="notification-item-wrapper">
                    <div class="notification-icon-box success">
                        <i class="fas fa-dumbbell"></i>
                    </div>
                    <div class="notification-item-content">
                        <h4 class="notification-item-title">Workout Plan Updated</h4>
                        <p class="notification-item-text">Your coach has updated your workout plan for this week</p>
                        <span class="notification-time">5 minutes ago</span>
                    </div>
                </div>
            </div>
            <div class="notification-list-item unread">
                <div class="notification-item-wrapper">
                    <div class="notification-icon-box info">
                        <i class="fas fa-calendar"></i>
                    </div>
                    <div class="notification-item-content">
                        <h4 class="notification-item-title">Session Reminder</h4>
                        <p class="notification-item-text">Your workout starts in 2 hours</p>
                        <span class="notification-time">1 hour ago</span>
                    </div>
                </div>
            </div>
            <div class="notification-list-item unread">
                <div class="notification-item-wrapper">
                    <div class="notification-icon-box success">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="notification-item-content">
                        <h4 class="notification-item-title">New Achievement!</h4>
                        <p class="notification-item-text">You've completed 5 workouts this week</p>
                        <span class="notification-time">3 hours ago</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Chat Panel -->
    <div class="chat-panel" id="chatPanel">
        <div class="chat-header">
            <h3><i class="fas fa-comments"></i> Messages</h3>
            <button class="modal-close" onclick="closeChatPanel()" title="Close" aria-label="Close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message received">
                <div class="message-avatar">CM</div>
                <div>
                    <div class="message-content">
                        <div class="message-sender">Coach Mike</div>
                        <div class="message-text">Hey Ashley! Great job on today's workout. Keep up the excellent form!</div>
                        <div class="message-time">2 hours ago</div>
                    </div>
                </div>
            </div>
            <div class="message sent">
                <div class="message-avatar">AQ</div>
                <div>
                    <div class="message-content">
                        <div class="message-text">Thank you Coach! I'm feeling stronger already.</div>
                        <div class="message-time">1 hour ago</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="chat-input-area">
            <div class="chat-input-wrapper">
                <textarea class="chat-input" id="chatInput" placeholder="Type your message..." rows="1"></textarea>
                <button class="chat-send-btn" onclick="sendChatMessage()" title="Send message" aria-label="Send message">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>
</body>
</html>